"use strict";(self.webpackChunkyoutube=self.webpackChunkyoutube||[]).push([[46],{7046:(H,x,n)=>{n.r(x),n.d(x,{YoutubeModule:()=>l});var o=n(6895),a=n(3546),y=n(2717),u=n(5116),t=n(4650),b=n(727),Y=n(9841),Z=n(8505),A=n(5515),w=n(9653),B=n(3570),M=n(4490),O=n(4859),T=n(7392);function D(s,e){if(1&s&&(t.TgZ(0,"li",2)(1,"mat-icon"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&s){const i=e.$implicit;t.xp6(2),t.Oqu(i.icon),t.xp6(2),t.Oqu(i.count)}}class c{constructor(){this.stats=[],this.icons=["visibility","thumb_up"]}ngOnInit(){this.stats=Object.values(this.statistics).filter((e,i)=>i<2).map((e,i)=>({icon:this.icons[i],count:e}))}}c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-video-statistics"]],inputs:{statistics:["app-video-statistics","statistics"]},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"video__stats"],["class","video__stat",4,"ngFor","ngForOf"],[1,"video__stat"]],template:function(e,i){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,D,5,2,"li",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.stats))},dependencies:[o.ez,o.sg,y.q,T.Hw],styles:[".video__stats[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:20px}.video__stat[_ngcontent-%COMP%]{display:flex;align-self:center;gap:10px}"],changeDetection:0});class d{constructor(e,i){this.element=e,this.renderer=i}ngOnChanges(){if(this.date){const e=new Date(this.date).getTime(),r=((s,e)=>{const i=s-e;return i<=6048e5?"blue":i<2628002880?"green":i<15768017280?"yellow":"red"})(Date.now(),e);this.setBorderColor(r)}}setBorderColor(e){this.renderer.setStyle(this.element.nativeElement,"border-color",e)}}d.\u0275fac=function(e){return new(e||d)(t.Y36(t.SBq),t.Y36(t.Qsj))},d.\u0275dir=t.lG2({type:d,selectors:[["","appBorderColor",""]],inputs:{date:["appBorderColor","date"]},features:[t.TTD]});class m{ngOnInit(){this.snippet=this.video.snippet,this.maxres=this.snippet.thumbnails.medium,this.statistics=this.video.statistics}}m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-video"]],inputs:{video:"video"},decls:8,vars:8,consts:[[1,"video__card",3,"appBorderColor"],[1,"video__img",3,"ngSrc","width","height","alt"],[3,"app-video-statistics"],[1,"video__title"],[1,"video__actions"],["mat-raised-button","","color","primary",1,"video__btn",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0),t._UZ(1,"img",1)(2,"app-video-statistics",2),t.TgZ(3,"mat-card-title",3),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-actions",4)(6,"button",5),t._uU(7,"more.."),t.qZA()()()),2&e&&(t.Q6J("appBorderColor",i.snippet.publishedAt),t.xp6(1),t.Q6J("ngSrc",i.maxres.url)("width",i.maxres.width)("height",i.maxres.height)("alt",i.snippet.title),t.xp6(1),t.Q6J("app-video-statistics",i.statistics),t.xp6(2),t.Oqu(i.snippet.title),t.xp6(2),t.Q6J("routerLink",i.video.id))},dependencies:[O.lW,a.a8,a.hq,a.n5,u.rH,c,o.Zd,d],styles:["[_nghost-%COMP%]{align-self:stretch;border-radius:13px;text-align:center}.video__card[_ngcontent-%COMP%]{padding:20px;border-bottom:4px solid transparent;height:100%}.video__title[_ngcontent-%COMP%]{margin:20px auto}.video__img[_ngcontent-%COMP%]{display:block;margin:0 auto}.video__actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:auto}"]});const F={views:(s,e)=>+e.statistics.viewCount-+s.statistics.viewCount,date:(s,e)=>+new Date(e.snippet.publishedAt)-+new Date(s.snippet.publishedAt)};class g{transform(e,i){return e&&i?e.sort((r,C)=>F[i.criteria](r,C)*i.direction):e??[]}}function I(s,e){1&s&&(t.TgZ(0,"div",2)(1,"h1",3),t._uU(2,"Loading..."),t.qZA()())}function J(s,e){1&s&&t._UZ(0,"app-video",6),2&s&&t.Q6J("video",e.$implicit)}function Q(s,e){if(1&s&&(t.TgZ(0,"ul",4),t.YNc(1,J,1,1,"app-video",5),t.ALo(2,"sort"),t.qZA()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,i.videos,i.sortOptions))("ngForTrackBy",i.trackBy)}}g.\u0275fac=function(e){return new(e||g)},g.\u0275pipe=t.Yjl({name:"sort",type:g,pure:!0});class v{constructor(e,i,r,C){this.store=e,this.videosService=i,this.sortService=r,this.cdr=C,this.sortOptions=null,this.videos=[],this.isLoading$=this.store.select(A.BB),this.subs=new b.w0}ngOnInit(){this.subs.add((0,Y.a)([this.sortService.sort$,this.videosService.videos$]).pipe((0,Z.b)(([e,i])=>{this.sortOptions=e,this.videos=i,this.cdr.detectChanges()})).subscribe())}trackBy(e,i){return i.id}ngOnDestroy(){this.subs.unsubscribe()}}v.\u0275fac=function(e){return new(e||v)(t.Y36(w.yh),t.Y36(B.Y),t.Y36(M.X),t.Y36(t.sBO))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-videos"]],decls:4,vars:6,consts:[["class","videos__container",4,"ngIf"],["class","videos__list",4,"ngIf"],[1,"videos__container"],[1,"videos__title"],[1,"videos__list"],[3,"video",4,"ngFor","ngForOf","ngForTrackBy"],[3,"video"]],template:function(e,i){1&e&&(t.YNc(0,I,3,0,"div",0),t.ALo(1,"async"),t.YNc(2,Q,3,5,"ul",1),t.ALo(3,"async")),2&e&&(t.Q6J("ngIf",t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(3,4,i.isLoading$)))},dependencies:[o.sg,o.O5,m,o.Ov,g],styles:[".videos__list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);align-items:stretch;gap:20px;margin:20px 0;text-align:center}.videos__container[_ngcontent-%COMP%]{margin:200px 0;text-align:center}.videos__title[_ngcontent-%COMP%]{font-size:32px}"],changeDetection:0});class h{}h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-youtube-page"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-videos"),t.qZA())},dependencies:[v]});var L=n(4004),j=n(3900),q=n(9481);function $(s,e){if(1&s&&(t.TgZ(0,"mat-card-content")(1,"mat-card-subtitle"),t._uU(2,"Description:"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t._UZ(5,"app-video-statistics",10),t.qZA()),2&s){const i=t.oxw(3);t.xp6(4),t.Oqu(i.snippet.description),t.xp6(1),t.Q6J("app-video-statistics",i.statistics)}}function z(s,e){if(1&s&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.TgZ(2,"mat-card",6)(3,"mat-card-header",7)(4,"mat-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"div",8),t._uU(7),t.ALo(8,"date"),t.qZA()(),t.YNc(9,$,6,2,"mat-card-content",9),t.qZA()()),2&s){const i=t.oxw(2);t.xp6(1),t.s9C("ngSrc",i.maxres.url),t.s9C("width",i.maxres.width),t.s9C("height",i.maxres.height),t.s9C("alt",i.snippet.title),t.xp6(1),t.Q6J("appBorderColor",i.snippet.publishedAt),t.xp6(3),t.Oqu(i.snippet.title),t.xp6(2),t.Oqu(t.lcZ(8,8,i.snippet.publishedAt)),t.xp6(2),t.Q6J("ngIf",i.statistics)}}function N(s,e){if(1&s&&(t.TgZ(0,"div",1)(1,"button",2)(2,"mat-icon"),t._uU(3,"navigate_before"),t.qZA()(),t.YNc(4,z,10,10,"div",3),t.qZA()),2&s){const i=t.oxw();t.xp6(4),t.Q6J("ngIf",i.maxres)}}class f{constructor(e,i,r){this.route=e,this.cdr=i,this.httpService=r,this.sub=new b.w0}ngOnInit(){this.sub.add(this.route.paramMap.pipe((0,L.U)(e=>e.get("videoId")??""),(0,j.w)(e=>this.httpService.getVideosById(e).pipe((0,Z.b)(i=>{this.video=i.items.find(r=>r.id===e),this.video&&({snippet:this.snippet,statistics:this.statistics}=this.video),this.snippet&&({maxres:this.maxres}=this.snippet.thumbnails),this.cdr.detectChanges()})))).subscribe())}ngOnDestroy(){this.sub.unsubscribe()}}f.\u0275fac=function(e){return new(e||f)(t.Y36(u.gz),t.Y36(t.sBO),t.Y36(q.C))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-video-details"]],decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],["mat-raised-button","","color","primary","routerLink","/youtube"],["class","card__wrapper",4,"ngIf"],[1,"card__wrapper"],["mat-card-image","",1,"video__image",3,"ngSrc","width","height","alt"],[1,"card__container",3,"appBorderColor"],[1,"card__header"],[1,"card__date"],[4,"ngIf"],[3,"app-video-statistics"]],template:function(e,i){1&e&&t.YNc(0,N,5,1,"div",0),2&e&&t.Q6J("ngIf",i.snippet)},dependencies:[o.O5,O.lW,T.Hw,a.a8,a.dn,a.dk,a.G2,a.$j,a.n5,u.rH,c,o.Zd,d,o.uU],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin:20px 0}.card__wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:80% 20%}.card__header[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.card__image[_ngcontent-%COMP%]{width:100%}.card__container[_ngcontent-%COMP%]{border-bottom:2px solid transparent}"],changeDetection:0});class _{}_.\u0275fac=function(e){return new(e||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-youtube-video-page"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-video-details"),t.qZA())},dependencies:[f]});const X=[{path:"",component:h},{path:":videoId",component:_}];class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[u.Bz.forChild(X),u.Bz]});class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[o.ez,y.q,a.QW,p,c]})}}]);